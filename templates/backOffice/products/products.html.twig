{% extends 'base_backOffice.twig' %}

{% block title %}Produits{% endblock %}

{% block body %}
	{% include('backOffice/includes/_pagesNav.html.twig') %}
	<div class="o-pageContainer">
		<h1 class="a-title1">Produits</h1>
		<section class="o-pageWithCards">
			<a href="{{ path('add_product') }}" class="m-cardAddNew" title="Ajouter un produit"><img src="/images/backOffice/add-icon.svg" class="a-icon" alt="icon +">Ajouter un produit</a>
			{% for product in products %}
				<article class="m-cardWithImage">
					<!-- Product image-->
					{% if product.imageName %}
						<img src="{{ vich_uploader_asset(product, 'imageFile') | imagine_filter('min400x200') }}" alt="{{ product.productName }}"  class="m-cardWithImage__image"/>
					{% else %}
						<img src="https://via.placeholder.com/400x200" alt="aucune image pour ce produit" class="m-cardWithImage__image">
					{% endif %}

					<!-- Product name-->

					<h2 class="a-title2">{{ product.productName }}</h2>

					<!-- Product status-->
					<p class="generic-flex -alignCenter"><img src="/images/backOffice/Vectorcheckgreen.svg" alt="icon check" class="a-icon"><span class="generic-m8_row">En ligne{# Ã  dynamiser #}</span></p>

					<!-- Product control-->
					<div class="m-cardWithImage__buttons generic-m8_row">
						<button class="a-btn -primaryGhost -width50" href="{{ path('edit_product', {id : product.id }) }}" title="Modifier le produit">Modifier</button>
						<button class="a-btn -primaryGhost -width50" href="{{ path('delete_product', {id : product.id }) }}" onclick="confirm('Voulez vous vraiment suprimer ce produit?') || event.preventDefault()" title="Supprimer le produit">Supprimer</button>
					</div>
				</article>
			{% endfor %}
		</section>
	</div>
{% endblock %}
